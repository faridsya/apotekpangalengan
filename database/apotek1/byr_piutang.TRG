TYPE=TRIGGERS
triggers='CREATE DEFINER=`root`@`localhost` TRIGGER `tbyrpiutang` AFTER DELETE ON `byr_piutang` FOR EACH ROW BEGIN\nupdate piutang set jumlah_byr=jumlah_byr-old.jumlah_byr where no_penjualan=old.no_penjualan;\ndelete from keuangan where no_transaksi=old.no_bayar;\nupdate pelanggan set jumlah_piutang=jumlah_piutang+old.jumlah_byr where id_pelanggan=old.id_pelanggan;\ndelete from jurnal where no_transaksi=old.no_bayar;\nEND' 'CREATE DEFINER=`root`@`localhost` TRIGGER `tbyrpiutangai` AFTER INSERT ON `byr_piutang` FOR EACH ROW BEGIN\nupdate piutang set jumlah_byr=jumlah_byr+new.jumlah_byr where no_penjualan=new.no_penjualan;\ninsert into keuangan(tanggal,keterangan,pemasukan,jenis,no_transaksi) values(new.tanggal,\'Pembayaran piutang\',new.jumlah_byr,\'Pembayaran piutang\',new.no_bayar);\nupdate pelanggan set jumlah_piutang=jumlah_piutang-new.jumlah_byr where id_pelanggan=new.id_pelanggan;\ninsert into jurnal values(\'\',new.Tanggal,\'1.1\',\'Kas\',new.jumlah_byr,0,new.no_bayar,\'\');\ninsert into jurnal values(\'\',new.Tanggal,\'1.3\',\'   Piutang dagang\',0,new.jumlah_byr,new.no_bayar,\'\');\nEND'
sql_modes=1342177280 1342177280
definers='root@localhost' 'root@localhost'
